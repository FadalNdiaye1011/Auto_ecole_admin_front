<div class="sidebar-container">
  <!-- Sidebar pour desktop -->
  <div class="hidden lg:flex flex-col h-screen fixed top-0 left-0 bg-gradient-to-b from-blue-600 to-blue-800 shadow-lg transition-all duration-300"
       [ngClass]="{'w-64': isExpanded, 'w-16': !isExpanded}">

    <!-- Logo en haut -->
    <div class="flex items-center justify-center h-16 border-b border-blue-500">
      <div *ngIf="isExpanded" class="text-white font-bold text-xl transition-opacity duration-300">Auto-École</div>
      <div *ngIf="!isExpanded" class="text-white font-bold text-xl">AE</div>
    </div>

    <!-- Navigation items -->
    <nav class="flex-1 overflow-y-auto py-4">
      <ul>
        <li *ngFor="let item of menuItems">
          <a [routerLink]="item.route"
             routerLinkActive="bg-blue-700"
             class="flex items-center px-4 py-3 text-white hover:bg-blue-700 transition-colors duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="item.icon" />
            </svg>
            <span *ngIf="isExpanded" class="ml-3 transition-opacity duration-300">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Toggle button en bas -->
    <div class="flex justify-center py-4 border-t border-blue-500">
      <button (click)="toggleSidebar()" class="text-white hover:bg-blue-700 p-2 rounded-full transition-colors duration-200">
        <svg *ngIf="isExpanded" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
        </svg>
        <svg *ngIf="!isExpanded" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Overlay mobile -->
  <div *ngIf="mobileMenuOpen"
       (click)="toggleMobileMenu()"
       class="lg:hidden fixed inset-0 bg-gray-800 bg-opacity-75 z-40"></div>

  <!-- Sidebar mobile -->
  <div class="lg:hidden fixed inset-y-0 left-0 w-64 bg-gradient-to-b from-blue-600 to-blue-800 z-50 transform transition-transform duration-300"
       [ngClass]="{'translate-x-0': mobileMenuOpen, '-translate-x-full': !mobileMenuOpen}">

    <div class="flex items-center justify-between h-16 border-b border-blue-500 px-4">
      <div class="text-white font-bold text-xl">Auto-École</div>
      <button (click)="toggleMobileMenu()" class="text-white">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <nav class="flex-1 overflow-y-auto py-4">
      <ul>
        <li *ngFor="let item of menuItems">
          <a [routerLink]="item.route"
             routerLinkActive="bg-blue-700"
             (click)="toggleMobileMenu()"
             class="flex items-center px-4 py-3 text-white hover:bg-blue-700 transition-colors duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="item.icon" />
            </svg>
            <span class="ml-3">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
